<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>The leader Hossam Sameh</title>
<script>
function getVideo() {
    var userInput = document.getElementById("videoId").value;
    var url = "https://api.theleadersacademy.online/api/video/play/" + userInput;
    var token = "Bearer MTg2ODk2.8WCMFEtEp7jGSktLPFGWWrIyq4PpbYPbOMWimv8bZUPMfKFgxmAf8jOvl1SB";

    var xhr = new XMLHttpRequest();
    xhr.open("GET", url, true);
    xhr.setRequestHeader("Authorization", token);
    xhr.onreadystatechange = function () {
        if (xhr.readyState === 4) {
            if (xhr.status === 200) {
                var response = JSON.parse(xhr.responseText);
                var iframeHtml = response.data.details.iframe;
                
                // Extract the URL from the iframe HTML string
                var tempDiv = document.createElement('div');
                tempDiv.innerHTML = iframeHtml;
                var iframeElement = tempDiv.querySelector('iframe');
                var iframeLink = iframeElement.src;
                
                var videoPlayerDiv = document.getElementById("videoPlayer");
                videoPlayerDiv.innerHTML = "Link = " + iframeLink ;
            } else {
                document.getElementById("videoPlayer").innerText = "Error fetching video information.";
            }
        }
    };
    xhr.send();
}


function getfile() {
    var userInput = document.getElementById("fileid").value;
    var url = "https://api.theleadersacademy.online/api/document/" + userInput;
    var token = "Bearer MTg2ODk2.8WCMFEtEp7jGSktLPFGWWrIyq4PpbYPbOMWimv8bZUPMfKFgxmAf8jOvl1SB";

    var xhr = new XMLHttpRequest();
    xhr.open("GET", url, true);
    xhr.setRequestHeader("Authorization", token);
    xhr.onreadystatechange = function () {
        if (xhr.readyState === 4) {
            if (xhr.status === 200) {
                var response = JSON.parse(xhr.responseText);
                var file = response.data.uri;
                
                var videoPlayerDiv = document.getElementById("file");
                videoPlayerDiv.innerHTML = "Link = " + file ;
            } else {
                document.getElementById("file").innerText = "Error fetching file information.";
            }
        }
    };
    xhr.send();
}



function getlink() {
    var userInput = document.getElementById("linkid").value;
    var url = "https://api.theleadersacademy.online/api/web-content/" + userInput;
    var token = "Bearer MTg2ODk2.8WCMFEtEp7jGSktLPFGWWrIyq4PpbYPbOMWimv8bZUPMfKFgxmAf8jOvl1SB";

    var xhr = new XMLHttpRequest();
    xhr.open("GET", url, true);
    xhr.setRequestHeader("Authorization", token);
    xhr.onreadystatechange = function () {
        if (xhr.readyState === 4) {
            if (xhr.status === 200) {
                var response = JSON.parse(xhr.responseText);
                var link = response.data.content;
                var tempDiv = document.createElement('div');
                tempDiv.innerHTML =link
                var linkElement = tempDiv.querySelector('a');
                var linkHref = linkElement.href;
                var videoPlayerDiv = document.getElementById("link");
                videoPlayerDiv.innerHTML = "Link = " + linkHref ;
            } else {
                document.getElementById("link").innerText = "Error fetching link information.";
            }
        }
    };
    xhr.send();
}







</script>
</head>
<body>
<h1>The leader</h1>

<form onsubmit="event.preventDefault(); getVideo()">
    <label for="videoId">Enter Video ID:</label>
    <input type="text" id="videoId">
    <button type="submit">Get Video</button>
</form>
<div id="videoPlayer"></div>
<br>
<br>


<form onsubmit="event.preventDefault(); getfile()">
    <label for="file">Enter File ID:</label>
    <input type="text" id="fileid">
    <button type="submit">Get File</button>
</form>
<div id="file"></div>


<br>
<br>


<form onsubmit="event.preventDefault(); getlink()">
    <label for="link">Enter Link ID:</label>
    <input type="text" id="linkid">
    <button type="submit">Get Link</button>
</form>
<div id="link"></div>



</body>
</html>
