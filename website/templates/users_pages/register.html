<!DOCTYPE html>
<html lang="en">
<head>


    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.1.2/socket.io.js"></script>
    <script src="static/java/connection.js"></script>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='styles/login.css') }}">
    <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='favicon.ico') }}" />
    
</head>
<body>

<div class="form">
    <form method="post">

    <div class="title">Welcome</div>
    <div class="subtitle">Let's create your account ! ( <u><a href="/login">Login</a></u> )</div>

{%if done%}
<br>

    <div class="subtitle"><div class="done">Account creatted successfully wait for approval</div></div>
<br>

{%endif%}

    <div class="input-container ic1">
        <input placeholder="" type="text" class="input" id="username" name="username" required  oninput="validateInput(this)">
        <div class="cut cut-short2"></div>
        <label class="iLabel" for="username">Username</label>
    </div>

    <div class="input-container ic2">
        <input placeholder="" type="text" class="input" id="email"  name="email" required>
        <div class="cut cut-short3"></div>
        <label class="iLabel" for="email">Email</label>
    </div>

    <div class="input-container ic1">
        <input placeholder="" type="text" class="input" id="number" name="number" required  oninput="validateInput2(this)">
        <div class="cut cut-short2"></div>
        <label class="iLabel" for="number">Phone Number</label>
    </div> 
    <div class="input-container ic2">

    
<p style="color: white;">Stage : <select name="stage" id="stage">
    {% for o in data %}
        <option value="{{ o.name }}">{{ o.name }}</option>
    {% endfor %}
</select></p><br><br>
<p>Leave it 3</p>
</div>
    <button class="submit" type="text">Register</button>
</div>
</form>


<script>
    document.addEventListener('DOMContentLoaded', function () {
        const inputs = document.querySelectorAll('.input');
        inputs.forEach(function (input) {
            input.addEventListener('blur', function () {
                if (input.value.trim() !== '') {
                    input.classList.add('valid');
                } else {
                    input.classList.remove('valid');
                }
            });
        });
    });

    function validateInput(inputField) {
    // Remove white spaces
    inputField.value = inputField.value.replace(/\s/g, '');

    // Remove non-alphanumeric characters and convert to lowercase
    inputField.value = inputField.value.replace(/[^a-zA-Z0-9]/g, '').toLowerCase();
}



        function validateInput2(inputField) {
    // Remove white spaces
    inputField.value = inputField.value.replace(/\s/g, '');

    // Remove non-numeric characters
    inputField.value = inputField.value.replace(/[^0-9]/g, '');
}
</script>
</body>
</html>
